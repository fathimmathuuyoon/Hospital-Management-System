{% extends 'doctor/doctor_base.html' %}
{% block content %}
<div class="container mt-4">
    <h2 class="mb-3">My Patients</h2>

    <table class="table">
  <thead>
    <tr>
      <th scope="col">Serial No</th>
      <th scope="col">Patient Name</th>
      <th scope="col">Age</th>
      <th scope="col">Gender</th>
      <th scope="col">Phone</th>
      <th scope="col">Address</th>
      <th scope="col">Medical History</th>
      <th scope="col">Medical Report</th>
    </tr>
  </thead>
  <tbody>
  {% for booking in bookings %}
    <tr>
      <td>{{ forloop.counter }}</td>
      <td>{{ booking.patient.name }}</td>
      <td>{{ booking.patient.age }}</td>
      <td>{{ booking.patient.gender }}</td>
      <td>{{ booking.patient.phone_number }}</td>
      <td>{{ booking.patient.address }}</td>
      <td>
        <a class="btn btn-primary" href="{% url 'medical_history'%}" role="button">View History</a>
</td>
      <td>
        <a class="btn btn-primary" href="{% url 'medical_report' booking.id%}" role="button">Add Report</a>
      </td>
    </tr>
    {% empty %}
    <tr>
        <td colspan="5" class="text-center">No patients found.</td>
    </tr>
    {% endfor %}
  </tbody>
  </table>
</div>
{% endblock %}
